<div class="container mt-5" >
  <h1>DASHBOARD</h1>

  <div class="mt-5">
    <h3> My upcoming Interviews</h3>
    <% if @upcoming_interviews.empty? %>
       <p> You don't have any upcoming interviews yet </p>
    <% else %>
      <table class="table bg-white">
        <thead class="text-center">
          <tr>
            <th scope="col" style="border-top: 3px solid #f1ece1"></th>
            <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Creator</th>
            <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Participant</th>
            <th scope="col" style="width:15%; border-top: 3px solid #f1ece1">Date</th>
            <th scope="col" style="width:15%; border-top: 3px solid #f1ece1">Programming Languages</th>
            <th scope="col" style="width:15%; border-top: 3px solid #f1ece1">Experience</th>
            <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Interview Language</th>
            <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Status</th>
            <th scope="col" style="width:12%; border-top: 3px solid #f1ece1"></th>
          </tr>
        </thead>
        <tbody>
          <% @upcoming_interviews.each do |interview| %>
            <tr>
              <th scope="row" style="border-top: 3px solid #f1ece1"></th>
              <td class="text-center align-middle"  style="border-top: 3px solid #f1ece1"><%= link_to image_tag('https://kitt.lewagon.com/placeholder/users/ssaunier', class: "avatar", style: "height: 20px; width: 20px"), user_path(interview.user)%></td>
              <td class="text-center align-middle"  style="border-top: 3px solid #f1ece1"><%= link_to image_tag('https://kitt.lewagon.com/placeholder/users/ssaunier', class: "avatar", style: "height: 20px; width: 20px"), user_path(interview.bookings.first.user)%></td>
              <td class="text-center align-middle"  style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.time.strftime("%a %e.%m.%y | %l:%M") %> - <%= interview.time.hour + 2 %>:<%= interview.time.strftime("%M")%> </div></td>
              <td class="text-center align-middle"  style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.focus %></div></td>
              <td class="text-center align-middle"  style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.experience %></div></td>
              <td class="text-center align-middle"  style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.interview_language %></div></td>
              <td class="text-center align-middle"  style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-success py-2 px-3 text-light">Confirmed</div></td>
              <td class="text-center align-middle"  style="border-top: 3px solid #f1ece1"><%= link_to "â†’ Interview", interview_path(interview), class: "d-block badge badge-primary py-2 px-3" %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% end %>
  </div>


  <div class="mt-5">
    <h3> My pending Interviews</h3>
    <% if @pending_interviews.empty? %>
      <p> You don't have any pending interviews yet. </p>
    <% else %>
      <table class="table bg-white">
        <thead class="text-center">
          <tr>
            <th scope="col" style="border-top: 3px solid #f1ece1"></th>
            <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Creator</th>
            <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Participant</th>
            <th scope="col" style="width:15%; border-top: 3px solid #f1ece1">Date</th>
            <th scope="col" style="width:15%; border-top: 3px solid #f1ece1">Programming Languages</th>
            <th scope="col" style="width:15%; border-top: 3px solid #f1ece1">Experience</th>
            <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Interview Language</th>
            <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Status</th>
            <th scope="col" style="width:15%; border-top: 3px solid #f1ece1"></th>
          </tr>
        </thead>
        <tbody>
          <% @pending_interviews.each do |interview| %>
            <tr>
              <th scope="row" style="border-top: 3px solid #f1ece1"></th>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><%= link_to image_tag('https://kitt.lewagon.com/placeholder/users/ssaunier', class: "avatar", style: "height: 20px; width: 20px"), user_path(interview.user)%></td>
              <% if interview.bookings.present? %>
                <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><%= link_to image_tag('https://kitt.lewagon.com/placeholder/users/ssaunier', class: "avatar", style: "height: 20px; width: 20px"), user_path(interview.bookings.first.user)%></td>
              <% else  %>
                <td class="text-center align-middle" style="border-top: 3px solid #f1ece1" ><div class="d-block badge badge-light py-2 px-3"> None</div></td>
              <% end %>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.time.strftime("%a %e.%m.%y | %l:%M") %> - <%= interview.time.hour + 2 %>:<%= interview.time.strftime("%M")%> </div></td>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.focus %></div></td>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.experience %></div></td>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.interview_language %></div></td>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-warning py-2 px-3">Pending </div></td>
             <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"></td>
           </tr>
          <% end %>
        </tbody>
      </table>
    <% end %>
  </div>


  <div class="mt-5">
    <h3>My past Interviews</h3>
    <% if @past_interviews.empty? %>
      <p> You don't have any past interviews yet. </p>
    <% else %>
      <table class="table bg-white">
      <thead class="text-center">
        <tr >
          <th scope="col" style="border-top: 3px solid #f1ece1"></th>
          <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Creator</th>
          <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Participant</th>
          <th scope="col" style="width:15%; border-top: 3px solid #f1ece1">Date</th>
          <th scope="col" style="width:15%; border-top: 3px solid #f1ece1">Programming Languages</th>
          <th scope="col" style="width:15%; border-top: 3px solid #f1ece1">Experience</th>
          <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Interview Language</th>
          <th scope="col" style="width:10%; border-top: 3px solid #f1ece1">Status</th>
          <th scope="col" style="width:15%; border-top: 3px solid #f1ece1"></th>
        </tr>
        </thead>
        <tbody>
          <% @past_interviews.each do |interview| %>
            <tr>
              <th scope="row" style="border-top: 3px solid #f1ece1"></th>
               <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><div class="d-block py-2 px-3"><%= link_to image_tag('https://kitt.lewagon.com/placeholder/users/ssaunier', class: "avatar", style: "height: 20px; width: 20px"), user_path(interview.user)%></div> </td>
              <% if interview.bookings.present? %>
                <td class="text-center align-middle" style="border-top: 3px solid #f1ece1" ><div class="d-block py-2 px-3"><%= link_to image_tag('https://kitt.lewagon.com/placeholder/users/ssaunier', class: "avatar", style: "height: 20px; width: 20px"), user_path(interview.bookings.first.user)%></div> </td>
              <% else  %>
                 <td class="text-center align-middle" style="border-top: 3px solid #f1ece1" ><div class="d-block badge badge-light py-2 px-3"> None</div></td>
              <% end %>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.time.strftime("%a %e.%m.%y | %l:%M") %> - <%= interview.time.hour + 2 %>:<%= interview.time.strftime("%M")%> </div></td>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.focus %></div></td>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.experience %></div></td>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-light py-2 px-3"><%= interview.interview_language %></div></td>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"><div class="d-block badge badge-secondary py-2 px-3 text-light">Over</div></td>
              <td class="text-center align-middle" style="border-top: 3px solid #f1ece1"></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% end %>
  </div>
</div>

